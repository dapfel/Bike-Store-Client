(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{125:function(e,a,t){e.exports=t(135)},135:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(12),l=t.n(i),o=t(16),c=t(6),s=t(195),m=t(207),d=t(208),u=t(11),p=t(10),g=t(104),b=t.n(g),f=t(237),h=t(225),E=t(233),v=t(201),C=t(21),x=t(56),j=t(239),O=t(193),y=t(197),S=t(227),k=t(194),N=t(198),A=t(226),B=t(81),L=t.n(B),w=t(38),I=t(196),T=t(192),F=t(190),W=t(191),R=t(189);function D(e){return r.a.createElement(E.a,{open:!0,onClose:e.onClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(R.a,{id:"alert-dialog-title"},e.success?"Registration Successful!":"Registration Failed"),r.a.createElement(F.a,null,e.success?r.a.createElement(W.a,{id:"alert-dialog-description"},"You may now log-in to your account."):r.a.createElement(W.a,{id:"alert-dialog-description"},"Failed to complete Sign Up.")),r.a.createElement(T.a,null,r.a.createElement(O.a,{onClick:e.onClose,color:"primary",autoFocus:!0},"Ok")))}var $=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function q(){return r.a.createElement(w.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(k.a,{color:"inherit",href:"/"},"The Bike Shack")," ",(new Date).getFullYear(),".")}var P=Object(s.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function H(e){var a=P(),t=Object(x.a)(),i=t.register,l=t.handleSubmit,o=t.errors,s=Object(n.useState)({username:"",password:"",firstName:"",lastName:""}),m=Object(c.a)(s,2),d=m[0],p=m[1],g=Object(n.useState)(!1),b=Object(c.a)(g,2),f=b[0],h=b[1],E=Object(n.useState)(!1),v=Object(c.a)(E,2),k=v[0],B=v[1];function T(e){var a=e.target,t=a.name,n=a.value;p((function(e){return Object(C.a)(Object(C.a)({},e),{},Object(u.a)({},t,n))}))}return r.a.createElement(n.Fragment,null,f?r.a.createElement(D,{success:k,onClose:e.onClose}):r.a.createElement(I.a,{component:"main",maxWidth:"xs"},r.a.createElement(y.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(j.a,{className:a.avatar},r.a.createElement(L.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:a.form,onSubmit:l((function(e){var a=d.username,t=d.password,n=d.firstName,r=d.lastName;fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:t,firstName:n,lastName:r})}).then((function(e){200===e.status?(B(!0),h(!0)):(B(!1),h(!0))}))}))},r.a.createElement(N.a,{container:!0,spacing:2},r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",value:d.firstName,onChange:T,autoFocus:!0,inputRef:i({maxLength:20,pattern:/^[A-Za-z]+$/i}),error:o.firstName,helperText:o.firstName&&"invalid first name"})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",value:d.lastName,onChange:T,autoComplete:"lname",inputRef:i({maxLength:20,pattern:/^[A-Za-z]+$/i}),error:o.lastName,helperText:o.lastName&&"invalid last name"})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(S.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Email Address",name:"username",value:d.username,onChange:T,autoComplete:"email",inputRef:i({pattern:$}),error:o.username,helperText:o.username&&"invalid email address"})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(S.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:d.password,onChange:T,autoComplete:"current-password",inputRef:i({minLength:6}),error:o.password,helperText:o.password&&"password must be at least 6 characters"})),r.a.createElement(N.a,{item:!0,xs:12})),r.a.createElement(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign Up"))),r.a.createElement(A.a,{mt:5},r.a.createElement(q,null))))}var z=Object(s.a)((function(e){return{button:{marginLeft:"6px",marginRight:"6px"}}}));function U(e){var a=z(),t=r.a.useState(!1),n=Object(c.a)(t,2),i=n[0],l=n[1];function o(){l(!1)}return r.a.createElement("div",null,r.a.createElement(v.a,{color:"primary",onClick:function(){l(!0)},variant:"extended",className:a.button},"SIGN UP"),r.a.createElement(E.a,{open:i,onClose:o,"aria-labelledby":"form-dialog-title"},r.a.createElement(H,{onClose:o})))}function M(){return r.a.createElement(w.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(k.a,{color:"inherit",href:"/"},"The Bike Shack")," ",(new Date).getFullYear(),".")}var Y=Object(s.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Z(e){var a=Y(),t=Object(n.useState)({username:"",password:""}),i=Object(c.a)(t,2),l=i[0],o=i[1];function s(e){var a=e.target,t=a.name,n=a.value;o((function(e){return Object(C.a)(Object(C.a)({},e),{},Object(u.a)({},t,n))}))}return r.a.createElement(I.a,{component:"main",maxWidth:"xs"},r.a.createElement(y.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(j.a,{className:a.avatar},r.a.createElement(L.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,onSubmit:function(a){a.preventDefault();var t=l.username,n=l.password;fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})}).then((function(e){return e.json()})).then((function(a){a?e.onLogin(a):e.onClose()}))}},r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"username",value:l.username,onChange:s,autoComplete:"email",autoFocus:!0}),r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:l.password,onChange:s,autoComplete:"current-password"}),r.a.createElement(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign In"),r.a.createElement(N.a,{container:!0},r.a.createElement(N.a,{item:!0,xs:!0},r.a.createElement(k.a,{href:"#",variant:"body2"},"Forgot password?"))))),r.a.createElement(A.a,{mt:8},r.a.createElement(M,null)))}var V=Object(s.a)((function(e){return{button:{marginLeft:"6px",marginRight:"6px"}}}));function G(e){var a=V(),t=r.a.useState(!1),n=Object(c.a)(t,2),i=n[0],l=n[1];function o(){l(!1)}return r.a.createElement("div",null,r.a.createElement(O.a,{color:"inherit",onClick:function(){l(!0)},className:a.button},"LOGIN"),r.a.createElement(E.a,{open:i,onClose:o,"aria-labelledby":"form-dialog-title"},r.a.createElement(Z,{onLogin:e.onLogin,onClose:o})))}function J(e){return r.a.createElement(O.a,{color:"inherit",onClick:function(){fetch("/logout").then((function(a){200===a.status&&e.onLogout()}))}},"Log Out")}var K=t(200),_=t(203),Q=t(137),X=t(100),ee=t.n(X),ae=t(202),te=t(110),ne=t(101),re=t.n(ne);function ie(){return r.a.createElement(w.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(k.a,{color:"inherit",href:"/"},"The Bike Shack")," ",(new Date).getFullYear(),".")}var le=Object(s.a)((function(e){return{paper:{minHeight:"300px",minWidth:"350px",marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},cartIcon:{padding:e.spacing(2,2)},list:{backgroundColor:e.palette.background.paper},listItem:{padding:e.spacing(1,0)},total:{fontWeight:700},title:{marginTop:e.spacing(2)}}}));function oe(e){var a=le();return r.a.createElement(I.a,{component:"main",maxWidth:"xs"},r.a.createElement(y.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement("div",{className:a.cartIcon},r.a.createElement(ee.a,{fontSize:"large",color:"primary"})),r.a.createElement(w.a,{variant:"h6",gutterBottom:!0},"Shopping Cart"),0!==e.cart.length?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:a.list},r.a.createElement(K.a,null,e.cart.map((function(t,n){return r.a.createElement(Q.a,{className:a.listItem,key:n},r.a.createElement(ae.a,null,r.a.createElement(te.a,{edge:"end","aria-label":"delete",onClick:function(){return function(a){e.onUpdateCart(a)}(n)}},r.a.createElement(re.a,null))),r.a.createElement(_.a,{primary:t.name,secondary:"$"+t.price}))})))),r.a.createElement(O.a,{variant:"contained",color:"primary",onClick:function(){e.onClose(),e.onCheckout()},className:a.button},"Checkout")):r.a.createElement(w.a,{variant:"subtitle1"},"Your cart is empty.")),r.a.createElement(A.a,{mt:8},r.a.createElement(ie,null)))}var ce=t(204),se=t(4),me=t(205),de=t(102),ue=t.n(de),pe=Object(s.a)((function(e){return{root:{paddingRight:"6px"}}})),ge=Object(se.a)((function(e){return{badge:{border:"2px solid ".concat(e.palette.background.paper)}}}))(ce.a);function be(e){var a=pe(),t=Object(n.useState)(e.cart.length),i=Object(c.a)(t,1)[0];return r.a.createElement(A.a,{className:a.root},r.a.createElement(me.a,{"aria-label":"cart"},r.a.createElement(ge,{badgeContent:i,color:"secondary"},r.a.createElement(ue.a,null))))}var fe=Object(s.a)((function(e){return{button:{padding:"3px 8px",marginLeft:"6px",marginRight:"6px"}}}));function he(e){var a=fe(),t=r.a.useState(!1),n=Object(c.a)(t,2),i=n[0],l=n[1];function o(){l(!1)}return r.a.createElement("div",null,r.a.createElement(O.a,{variant:"contained",onClick:function(){l(!0)},color:"secondary",className:a.button},r.a.createElement(be,{cart:e.cart}),"CART"),r.a.createElement(E.a,{open:i,onClose:o,"aria-labelledby":"form-dialog-title"},r.a.createElement(oe,{cart:e.cart,onUpdateCart:e.onUpdateCart,onCheckout:e.onCheckout,onClose:o})))}var Ee=t(103),ve=t.n(Ee),Ce=t(107),xe=t(206);function je(e){var a=r.a.useState(!1),t=Object(c.a)(a,2),n=t[0],i=t[1];function l(){i(!1)}return r.a.createElement("div",null,r.a.createElement(xe.a,{name:"cart",onClick:function(a){e.onCloseMenu(a),i(!0)}},"Cart"),r.a.createElement(E.a,{open:n,onClose:l,"aria-labelledby":"form-dialog-title"},r.a.createElement(oe,{cart:e.cart,onCheckout:e.onCheckout,onClose:l})))}function Oe(e){var a=r.a.useState(!1),t=Object(c.a)(a,2),n=t[0],i=t[1];function l(){i(!1)}return r.a.createElement("div",null,r.a.createElement(xe.a,{name:"login",onClick:function(a){e.onCloseMenu(a),i(!0)}},"Login"),r.a.createElement(E.a,{open:n,onClose:l,"aria-labelledby":"form-dialog-title"},r.a.createElement(Z,{onLogin:e.onLogin,onClose:l})))}function ye(e){var a=r.a.useState(!1),t=Object(c.a)(a,2),n=t[0],i=t[1];function l(){i(!1)}return r.a.createElement("div",null,r.a.createElement(xe.a,{name:"signup",onClick:function(a){e.onCloseMenu(a),i(!0)}},"Sign Up"),r.a.createElement(E.a,{open:n,onClose:l,"aria-labelledby":"form-dialog-title"},r.a.createElement(H,{onClose:l})))}function Se(e){var a=r.a.useState(null),t=Object(c.a)(a,2),i=t[0],l=t[1],o=function(a){l(null),"logout"===a.target.name&&e.onLogout()};return r.a.createElement(n.Fragment,null,r.a.createElement(te.a,{color:"inherit","aria-label":"menu",onClick:function(e){l(e.currentTarget)}},r.a.createElement(ve.a,null)),r.a.createElement(Ce.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:o},r.a.createElement(je,{onCheckout:e.onCheckout,cart:e.cart,onCloseMenu:o}),e.isLoggedIn?r.a.createElement(xe.a,{name:"logout",onClick:o},"Logout"):r.a.createElement(n.Fragment,null,r.a.createElement(Oe,{onLogin:e.onLogin,onCloseMenu:o}),r.a.createElement(ye,{onCloseMenu:o}))))}var ke=Object(s.a)((function(e){return{root:{width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},search:Object(u.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(p.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(p.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:"5%",width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),marginRight:"10%",width:"50%"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",display:"block"},inputInput:Object(u.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),menu:{position:"absolute",right:0}}}));function Ne(e){var a=ke(),t=Object(h.a)((function(t){var i=t.width,l=(t.height,Object(n.useState)(!1)),o=Object(c.a)(l,2),s=o[0],m=o[1];Object(n.useEffect)((function(){m(i<170)}),[i]);var d=Object(n.useState)(""),u=Object(c.a)(d,2),p=u[0],g=u[1];return r.a.createElement(n.Fragment,null,s?null:r.a.createElement("div",{className:a.search},r.a.createElement("div",{className:a.searchIcon},r.a.createElement(b.a,null)),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),fetch("/bikes/search?"+("searchTerm="+p)).then((function(e){return e.json()})).then((function(a){e.onDisplayBikes(a.bikeData)}))}},r.a.createElement(f.a,{key:"searchInput",placeholder:"Search\u2026",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){g(e.target.value)},value:p}))),s?r.a.createElement("div",{className:a.menu},r.a.createElement(Se,{isLoggedIn:e.isLoggedIn,cart:e.cart,onCheckout:e.onCheckout,onLogout:e.onLogout,onLogin:e.onLogin})):r.a.createElement("div",{className:a.root},r.a.createElement(he,{cart:e.cart,onUpdateCart:e.onUpdateCart,onCheckout:e.onCheckout}),e.isLoggedIn?r.a.createElement(J,{onLogout:e.onLogout}):r.a.createElement(n.Fragment,null,r.a.createElement(G,{onLogin:e.onLogin}),r.a.createElement(U,null))))}));return r.a.createElement(t,{key:"adaptivewithdetector"})}var Ae=Object(s.a)((function(e){return{root:{flexGrow:1},logo:{height:110},title:{flexGrow:1},toolbar:{padding:0,margin:"0 auto",width:"100%",maxWidth:"1300px",minHeight:110,alignItems:"center"}}}));function Be(e){var a=Ae();return r.a.createElement("div",{className:a.root},r.a.createElement(m.a,{position:"static"},r.a.createElement(d.a,{className:a.toolbar},r.a.createElement("img",{src:"images/logo.png",alt:"logo",className:a.logo}),r.a.createElement(Ne,{onDisplayBikes:e.onDisplayBikes,isLoggedIn:e.isLoggedIn,onUpdateCart:e.onUpdateCart,cart:e.cart,onCheckout:e.onCheckout,onLogout:e.onLogout,onLogin:e.onLogin}))))}var Le=function(e){return r.a.createElement(Be,{onDisplayBikes:e.onDisplayBikes,isLoggedIn:e.isLoggedIn,onLogin:e.onLogin,onLogout:e.onLogout,onCheckout:e.onCheckout,onUpdateCart:e.onUpdateCart,cart:e.cart})},we=t(232);function Ie(){var e=(new Date).getFullYear();return r.a.createElement(we.a,{className:"breadcrumbs","aria-label":"breadcrumb"},r.a.createElement(k.a,{color:"textSecondary",href:"/"},"The Bike Shack"),r.a.createElement(k.a,{color:"textSecondary",href:"/"},"Terms"),r.a.createElement(w.a,{color:"textPrimary"},"Copyright \xa9 ",e))}var Te=function(){return r.a.createElement("footer",{style:{backgroundColor:"#3f51b5",padding:"30px",display:"flex",justifyContent:"center",width:"100%",position:"absolute",bottom:0}},r.a.createElement(Ie,null))},Fe=t(223),We=t(234),Re=t(209),De=t(210),$e=Object(se.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(We.a),qe=Object(se.a)({root:{backgroundColor:"#ffffff",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56},"&:hover":{backgroundColor:"rgba(0, 0, 0, .03)"}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Re.a),Pe=Object(se.a)((function(e){return{root:{padding:e.spacing(2)}}}))(De.a),He=Object(s.a)((function(e){return{root:{textAlign:"center"},textField:{padding:5,maxWidth:"40%"},button:{width:"90%",padding:5}}}));function ze(e){var a,t=He(),i=Object(n.useState)({min:0,max:5e3}),l=Object(c.a)(i,2),o=l[0],s=l[1],m=Object(n.useState)(!1),d=Object(c.a)(m,2),u=d[0],p=d[1];function g(e){e.target.value?"minPrice"===e.target.name?s(Object(C.a)(Object(C.a)({},o),{},{min:parseInt(e.target.value)})):s(Object(C.a)(Object(C.a)({},o),{},{max:parseInt(e.target.value)})):"minPrice"===e.target.name?s(Object(C.a)(Object(C.a)({},o),{},{min:""})):s(Object(C.a)(Object(C.a)({},o),{},{max:""}))}return r.a.createElement($e,{square:!0,expanded:"panel"===u,onChange:(a="panel",function(e,t){p(!!t&&a)})},r.a.createElement(qe,{"aria-controls":"paneld-content",id:"paneld-header"},r.a.createElement(w.a,null,"FILTER BY PRICE")),r.a.createElement(Pe,{className:t.root},r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(a){a.preventDefault();var t=Object(C.a)({},o);""===t.min&&(t.min=0),""===t.max&&(t.max=0),e.onSubmitFilter({spec:"priceRange",value:t})}},r.a.createElement(S.a,{className:t.textField,name:"minPrice",label:"Min Price ($)",variant:"outlined",value:o.min,onChange:g}),r.a.createElement(S.a,{className:t.textField,name:"maxPrice",label:"Max Price ($)",variant:"outlined",value:o.max,onChange:g}),r.a.createElement(O.a,{type:"submit",className:t.button,variant:"contained",color:"secondary"},"Filter"))))}var Ue=t(212),Me=t(229),Ye=t(238),Ze=t(199),Ve=Object(se.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(We.a),Ge=Object(se.a)({root:{backgroundColor:"#ffffff",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56},"&:hover":{backgroundColor:"rgba(0, 0, 0, .03)"}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Re.a),Je=Object(se.a)((function(e){return{root:{padding:e.spacing(2)}}}))(De.a);function Ke(e){var a,t=Object(n.useState)(!1),i=Object(c.a)(t,2),l=i[0],o=i[1];return r.a.createElement(Ve,{square:!0,expanded:"panel"===l,onChange:(a="panel",function(e,t){o(!!t&&a)})},r.a.createElement(Ge,{"aria-controls":"paneld-content",id:"paneld-header"},r.a.createElement(w.a,null,"GENDER")),r.a.createElement(Je,null,r.a.createElement(Ze.a,{component:"fieldset"},r.a.createElement(Ye.a,{"aria-label":"gender",name:"gender",onChange:function(a){e.onSubmitFilter({spec:"gender",value:a.target.value})},defaultValue:"Any"},r.a.createElement(Ue.a,{value:"Any",control:r.a.createElement(Me.a,null),label:"Any",key:"Any"}),r.a.createElement(Ue.a,{value:"Kids",control:r.a.createElement(Me.a,null),label:"Kids",key:"Kids"}),r.a.createElement(Ue.a,{value:"Mens",control:r.a.createElement(Me.a,null),label:"Mens",key:"Mens"}),r.a.createElement(Ue.a,{value:"Womens",control:r.a.createElement(Me.a,null),label:"Womens",key:"Womens"})))))}var _e=Object(se.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(We.a),Qe=Object(se.a)({root:{backgroundColor:"#ffffff",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56},"&:hover":{backgroundColor:"rgba(0, 0, 0, .03)"}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Re.a),Xe=Object(se.a)((function(e){return{root:{padding:e.spacing(2)}}}))(De.a),ea=Object(s.a)((function(e){return{list:{maxHeight:200,overflow:"auto"}}}));function aa(e){var a=ea(),t=Object(n.useState)(!1),i=Object(c.a)(t,2),l=i[0],o=i[1],s=Object(n.useState)([]),m=Object(c.a)(s,2),d=m[0],u=m[1],p=Object(n.useState)(!0),g=Object(c.a)(p,2),b=g[0],f=g[1];Object(n.useEffect)((function(){fetch("/bikeSpecList/dicipline").then((function(e){return e.json()})).then((function(e){u(e.specNameList),f(!1)}))}),[]);var h;return r.a.createElement(_e,{square:!0,expanded:"panel"===l,onChange:(h="panel",function(e,a){o(!!a&&h)})},r.a.createElement(Qe,{"aria-controls":"paneld-content",id:"paneld-header"},r.a.createElement(w.a,null,"DICIPLINE")),r.a.createElement(Xe,{className:a.list},b?r.a.createElement("p",null,"loading data..."):r.a.createElement(Ze.a,{component:"fieldset"},r.a.createElement(Ye.a,{"aria-label":"dicipline",name:"dicipline",onChange:function(a){e.onSubmitFilter({spec:"dicipline",value:a.target.value})},defaultValue:"Any"},r.a.createElement(Ue.a,{value:"Any",control:r.a.createElement(Me.a,null),label:"Any",key:"Any"}),d.map((function(e,a){return r.a.createElement(Ue.a,{value:e,control:r.a.createElement(Me.a,null),label:e,key:e})}))))))}var ta=t(211),na=t(231),ra=Object(se.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(We.a),ia=Object(se.a)({root:{backgroundColor:"#ffffff",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56},"&:hover":{backgroundColor:"rgba(0, 0, 0, .03)"}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Re.a),la=Object(se.a)((function(e){return{root:{padding:e.spacing(2)}}}))(De.a);function oa(e){var a,t=Object(n.useState)(!1),i=Object(c.a)(t,2),l=i[0],o=i[1],s=Object(n.useState)(!0),m=Object(c.a)(s,2),d=m[0],u=m[1];return r.a.createElement(ra,{square:!0,expanded:"panel"===l,onChange:(a="panel",function(e,t){o(!!t&&a)})},r.a.createElement(ia,{"aria-controls":"paneld-content",id:"paneld-header"},r.a.createElement(w.a,null,"ELECTRIC")),r.a.createElement(la,null,r.a.createElement(ta.a,null,r.a.createElement(Ue.a,{control:r.a.createElement(na.a,{checked:d.checkedElectric,onChange:function(a){var t=!d;u(t),e.onSubmitFilter({spec:"electric",value:t})},name:"checkedElectric",color:"secondary"}),label:"No"}))))}var ca=Object(se.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(We.a),sa=Object(se.a)({root:{backgroundColor:"#ffffff",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56},"&:hover":{backgroundColor:"rgba(0, 0, 0, .03)"}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Re.a),ma=Object(se.a)((function(e){return{root:{padding:e.spacing(2)}}}))(De.a),da=Object(s.a)((function(e){return{list:{maxHeight:200,overflow:"auto"}}}));function ua(e){var a=da(),t=Object(n.useState)(!1),i=Object(c.a)(t,2),l=i[0],o=i[1],s=Object(n.useState)([]),m=Object(c.a)(s,2),d=m[0],u=m[1],p=Object(n.useState)(!0),g=Object(c.a)(p,2),b=g[0],f=g[1];Object(n.useEffect)((function(){fetch("/bikeSpecList/wheelSize").then((function(e){return e.json()})).then((function(e){u(e.specNameList),f(!1)}))}),[]);var h;return r.a.createElement(ca,{square:!0,expanded:"panel"===l,onChange:(h="panel",function(e,a){o(!!a&&h)})},r.a.createElement(sa,{"aria-controls":"paneld-content",id:"paneld-header"},r.a.createElement(w.a,null,"WHEEL SIZE")),r.a.createElement(ma,{className:a.list},b?r.a.createElement("p",null,"loading data..."):r.a.createElement(Ze.a,{component:"fieldset"},r.a.createElement(Ye.a,{"aria-label":"wheelSize",name:"wheelSize",onChange:function(a){e.onSubmitFilter({spec:"wheelSize",value:a.target.value})},defaultValue:"Any"},r.a.createElement(Ue.a,{value:"Any",control:r.a.createElement(Me.a,null),label:"Any",key:"Any"}),d.map((function(e,a){return r.a.createElement(Ue.a,{value:e,control:r.a.createElement(Me.a,null),label:e,key:e})}))))))}var pa=Object(se.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(We.a),ga=Object(se.a)({root:{backgroundColor:"#ffffff",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56},"&:hover":{backgroundColor:"rgba(0, 0, 0, .03)"}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Re.a),ba=Object(se.a)((function(e){return{root:{padding:e.spacing(2)}}}))(De.a),fa=Object(s.a)((function(e){return{list:{maxHeight:200,overflow:"auto"}}}));function ha(e){var a=fa(),t=Object(n.useState)(!1),i=Object(c.a)(t,2),l=i[0],o=i[1],s=Object(n.useState)([]),m=Object(c.a)(s,2),d=m[0],u=m[1],p=Object(n.useState)(!0),g=Object(c.a)(p,2),b=g[0],f=g[1];Object(n.useEffect)((function(){fetch("/bikeSpecList/material").then((function(e){return e.json()})).then((function(e){u(e.specNameList),f(!1)}))}),[]);var h;return r.a.createElement(pa,{square:!0,expanded:"panel"===l,onChange:(h="panel",function(e,a){o(!!a&&h)})},r.a.createElement(ga,{"aria-controls":"paneld-content",id:"paneld-header"},r.a.createElement(w.a,null,"MATERIAL")),r.a.createElement(ba,{className:a.list},b?r.a.createElement("p",null,"loading data..."):r.a.createElement(Ze.a,{component:"fieldset"},r.a.createElement(Ye.a,{"aria-label":"material",name:"material",onChange:function(a){e.onSubmitFilter({spec:"material",value:a.target.value})},defaultValue:"Any"},r.a.createElement(Ue.a,{value:"Any",control:r.a.createElement(Me.a,null),label:"Any",key:"Any"}),d.map((function(e,a){return r.a.createElement(Ue.a,{value:e,control:r.a.createElement(Me.a,null),label:e,key:e})}))))))}var Ea=Object(se.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(We.a),va=Object(se.a)({root:{backgroundColor:"#ffffff",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56},"&:hover":{backgroundColor:"rgba(0, 0, 0, .03)"}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Re.a),Ca=Object(se.a)((function(e){return{root:{padding:e.spacing(2)}}}))(De.a),xa=Object(s.a)((function(e){return{list:{maxHeight:200,overflow:"auto"}}}));function ja(e){var a=xa(),t=Object(n.useState)(!1),i=Object(c.a)(t,2),l=i[0],o=i[1],s=Object(n.useState)([]),m=Object(c.a)(s,2),d=m[0],u=m[1],p=Object(n.useState)(!0),g=Object(c.a)(p,2),b=g[0],f=g[1];Object(n.useEffect)((function(){fetch("/bikeSpecList/color").then((function(e){return e.json()})).then((function(e){u(e.specNameList),f(!1)}))}),[]);var h;return r.a.createElement(Ea,{square:!0,expanded:"panel"===l,onChange:(h="panel",function(e,a){o(!!a&&h)})},r.a.createElement(va,{"aria-controls":"paneld-content",id:"paneld-header"},r.a.createElement(w.a,null,"COLOR")),r.a.createElement(Ca,{className:a.list},b?r.a.createElement("p",null,"loading data..."):r.a.createElement(Ze.a,{component:"fieldset"},r.a.createElement(Ye.a,{"aria-label":"color",name:"color",onChange:function(a){e.onSubmitFilter({spec:"color",value:a.target.value})},defaultValue:"Any"},r.a.createElement(Ue.a,{value:"Any",control:r.a.createElement(Me.a,null),label:"Any",key:"Any"}),d.map((function(e,a){return r.a.createElement(Ue.a,{value:e,control:r.a.createElement(Me.a,null),label:e,key:e})}))))))}var Oa=Object(se.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(We.a),ya=Object(se.a)({root:{backgroundColor:"#ffffff",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56},"&:hover":{backgroundColor:"rgba(0, 0, 0, .03)"}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Re.a),Sa=Object(se.a)((function(e){return{root:{padding:e.spacing(2)}}}))(De.a),ka=Object(s.a)((function(e){return{list:{maxHeight:200,overflow:"auto"}}}));function Na(e){var a=ka(),t=Object(n.useState)(!1),i=Object(c.a)(t,2),l=i[0],o=i[1],s=Object(n.useState)([]),m=Object(c.a)(s,2),d=m[0],u=m[1],p=Object(n.useState)(!0),g=Object(c.a)(p,2),b=g[0],f=g[1];Object(n.useEffect)((function(){fetch("/bikeSpecList/brand").then((function(e){return e.json()})).then((function(e){u(e.specNameList),f(!1)}))}),[]);var h;return r.a.createElement(Oa,{square:!0,expanded:"panel"===l,onChange:(h="panel",function(e,a){o(!!a&&h)})},r.a.createElement(ya,{"aria-controls":"paneld-content",id:"paneld-header"},r.a.createElement(w.a,null,"BRAND")),r.a.createElement(Sa,{className:a.list},b?r.a.createElement("p",null,"loading data..."):r.a.createElement(Ze.a,{component:"fieldset"},r.a.createElement(Ye.a,{"aria-label":"brand",name:"brand",onChange:function(a){e.onSubmitFilter({spec:"brand",value:a.target.value})},defaultValue:"Any"},r.a.createElement(Ue.a,{value:"Any",control:r.a.createElement(Me.a,null),label:"Any",key:"Any"}),d.map((function(e,a){return r.a.createElement(Ue.a,{value:e,control:r.a.createElement(Me.a,null),label:e,key:e})}))))))}var Aa=Object(s.a)((function(e){return{root:{marginRight:"3px",minWidth:"250px",maxWidth:"250px"}}}));function Ba(e){var a=Aa(),t=Object(n.useState)([]),i=Object(c.a)(t,2),l=i[0],o=i[1];function s(a){var t=function(e,a){var t=e.filter((function(e){return e.spec!==a.spec}));return t.push(a),t}(l,a);o(t);var n="";t.forEach((function(e){"priceRange"===e.spec?n+="priceMin="+e.value.min+"&priceMax="+e.value.max+"&":"Any"!==e.value&&(n+=e.spec+"="+e.value+"&")})),n=n.slice(0,-1),fetch("/bikes/filtered?"+n).then((function(e){return e.json()})).then((function(a){e.onDisplayBikes(a.bikeData)}))}return r.a.createElement("div",{className:a.root},r.a.createElement(ze,{onSubmitFilter:s}),r.a.createElement(Na,{onSubmitFilter:s}),r.a.createElement(Ke,{onSubmitFilter:s}),r.a.createElement(aa,{onSubmitFilter:s}),r.a.createElement(oa,{onSubmitFilter:s}),r.a.createElement(ua,{onSubmitFilter:s}),r.a.createElement(ha,{onSubmitFilter:s}),r.a.createElement(ja,{onSubmitFilter:s}))}var La=t(219),wa=t(220),Ia=t(222),Ta=t(221),Fa=t(214),Wa=t(218),Ra=t(217),Da=t(213),$a=t(215),qa=t(216),Pa=t(108);function Ha(){return r.a.createElement(w.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(k.a,{color:"inherit",href:"/"},"The Bike Shack")," ",(new Date).getFullYear(),".")}var za=Object(s.a)((function(e){return{page:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},title:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},description:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},button:{marginTop:e.spacing(3)}}}));function Ua(e){var a=za();var t=[{spec:"Dicipline",details:e.bikeInfo.dicipline},{spec:"Brand",details:e.bikeInfo.brand},{spec:"Gender",details:e.bikeInfo.gender},{spec:"Color",details:e.bikeInfo.color},{spec:"Wheel Size",details:e.bikeInfo.wheelSize},{spec:"Material",details:e.bikeInfo.material},{spec:"Electric",details:e.bikeInfo.electric?"Yes":"No"}];return r.a.createElement(I.a,{component:"main"},r.a.createElement("div",{className:a.page},r.a.createElement("img",{src:"data:image/jpeg;base64,".concat(e.bikeInfo.image),alt:"bike-img",width:"90%",height:"40%"}),r.a.createElement(w.a,{variant:"h5",gutterBottom:!0,className:a.title},e.bikeInfo.name),r.a.createElement(w.a,{variant:"h6",gutterBottom:!0,className:a.price},"$"+e.bikeInfo.price),r.a.createElement(w.a,{variant:"subtitle1",className:a.description},e.bikeInfo.description),r.a.createElement(Da.a,{component:Pa.a},r.a.createElement(Fa.a,{className:a.table,"aria-label":"simple table"},r.a.createElement($a.a,null,r.a.createElement(qa.a,null,r.a.createElement(Ra.a,null,"Specification"),r.a.createElement(Ra.a,{align:"right"},"Details"))),r.a.createElement(Wa.a,null,t.map((function(e){return r.a.createElement(qa.a,{key:e.spec},r.a.createElement(Ra.a,{component:"th",scope:"row"},e.spec),r.a.createElement(Ra.a,{align:"right"},e.details))}))))),r.a.createElement(O.a,{variant:"contained",onClick:function(){e.onClose(),e.onAddToCart(e.bikeInfo)},color:"secondary",className:a.button},"ADD TO CART")),r.a.createElement(A.a,{mt:8},r.a.createElement(Ha,null)))}var Ma=Object(s.a)({root:{maxWidth:500,height:300,marginBottom:"30px",textAlign:"center"},price:{marginTop:"5px"},actionArea:{height:"-webkit-fill-available"}});function Ya(e){var a=Ma(),t=e.bikeInfo,i=r.a.useState(!1),l=Object(c.a)(i,2),o=l[0],s=l[1];function m(){s(!1)}return r.a.createElement(n.Fragment,null,r.a.createElement(La.a,{className:a.root,onClick:function(e){s(!0)}},r.a.createElement(wa.a,{className:a.actionArea},r.a.createElement(Ta.a,{component:"img",alt:"bike-img",height:"140",image:"data:image/jpeg;base64,".concat(t.image),title:t.name}),r.a.createElement(Ia.a,null,r.a.createElement(w.a,{gutterBottom:!0,variant:"h6",component:"h2"},t.name),r.a.createElement(w.a,{className:a.price,variant:"body1",color:"textPrimary",component:"p"},"$"+t.price)))),r.a.createElement(E.a,{open:o,onClose:m,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ua,{bikeInfo:t,onClose:m,onAddToCart:e.onAddToCart})))}function Za(e){var a=e.bikesToDisplay;return r.a.createElement(N.a,{container:!0,spacing:3},a.map((function(a,t){return r.a.createElement(N.a,{key:t,item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(Ya,{bikeInfo:a,onAddToCart:e.onAddToCart}))})))}var Va=Object(s.a)((function(e){return{root:{alignItems:"flex-start",maxWidth:"1300px",margin:"30px auto",marginBottom:0,display:"flex"},progress:{margin:"auto"},grid:{marginBottom:"100px"}}}));function Ga(e){var a=Va();return r.a.createElement("div",{className:a.root},r.a.createElement(Ba,{onDisplayBikes:e.onDisplayBikes}),e.loadingBikes?r.a.createElement("div",{className:a.progress},r.a.createElement(Fe.a,null)):r.a.createElement("div",{className:a.grid},r.a.createElement(Za,{bikesToDisplay:e.bikesToDisplay,onAddToCart:e.onAddToCart})))}var Ja=t(235),Ka=t(224),_a=t(230),Qa=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Xa=Object(s.a)((function(e){return{button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}));function et(e){var a=Xa(),t=Object(x.a)(),i=t.register,l=t.handleSubmit,o=t.errors,s=Object(n.useState)(e.shippingAddress.firstName),m=Object(c.a)(s,2),d=m[0],u=m[1],p=Object(n.useState)(e.shippingAddress.lastName),g=Object(c.a)(p,2),b=g[0],f=g[1],h=Object(n.useState)(e.shippingAddress.address1),E=Object(c.a)(h,2),v=E[0],C=E[1],j=Object(n.useState)(e.shippingAddress.address2),y=Object(c.a)(j,2),k=y[0],A=y[1],B=Object(n.useState)(e.shippingAddress.email),L=Object(c.a)(B,2),I=L[0],T=L[1],F=Object(n.useState)(e.shippingAddress.city),W=Object(c.a)(F,2),R=W[0],D=W[1],$=Object(n.useState)(e.shippingAddress.state),q=Object(c.a)($,2),P=q[0],H=q[1],z=Object(n.useState)(e.shippingAddress.zip),U=Object(c.a)(z,2),M=U[0],Y=U[1],Z=Object(n.useState)(e.shippingAddress.country),V=Object(c.a)(Z,2),G=V[0],J=V[1],K=Object(n.useState)(e.useShippingAddress),_=Object(c.a)(K,2),Q=_[0],X=_[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{variant:"h6",gutterBottom:!0},"Shipping address"),r.a.createElement("form",{onSubmit:l((function(a){e.onSetShippingAddress({firstName:d,lastName:b,address1:v,address2:k,email:I,city:R,state:P,zip:M,country:G}),e.onUseShippingAddress(Q),e.handleNext()}))},r.a.createElement(N.a,{container:!0,spacing:3},r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{required:!0,id:"firstName",name:"firstName",label:"First name",fullWidth:!0,autoComplete:"given-name",onChange:function(e){return u(e.target.value)},value:d,inputRef:i({maxLength:20,pattern:/^[A-Za-z]+$/i}),error:o.firstName,helperText:o.firstName&&"invalid first name"})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{required:!0,id:"lastName",name:"lastName",label:"Last name",fullWidth:!0,autoComplete:"family-name",onChange:function(e){return f(e.target.value)},value:b,inputRef:i({maxLength:20,pattern:/^[A-Za-z]+$/i}),error:o.lastName,helperText:o.lastName&&"invalid last name"})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(S.a,{required:!0,id:"address1",name:"address1",label:"Address line 1",fullWidth:!0,autoComplete:"shipping address-line1",onChange:function(e){return C(e.target.value)},value:v})),r.a.createElement(N.a,{item:!0,xs:12,sm:e.isLoggedIn?12:6},r.a.createElement(S.a,{id:"address2",name:"address2",label:"Address line 2",fullWidth:!0,autoComplete:"shipping address-line2",onChange:function(e){return A(e.target.value)},value:k})),e.isLoggedIn?null:r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{required:!0,id:"email",name:"email",label:"Email Address",fullWidth:!0,autoComplete:"email",onChange:function(e){return T(e.target.value)},value:I,inputRef:i({pattern:Qa}),error:o.email,helperText:o.email&&"invalid email address"})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{required:!0,id:"city",name:"city",label:"City",fullWidth:!0,autoComplete:"shipping address-level2",onChange:function(e){return D(e.target.value)},value:R})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{id:"state",name:"state",label:"State/Province/Region",fullWidth:!0,onChange:function(e){return H(e.target.value)},value:P})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{required:!0,id:"zip",name:"zip",label:"Zip / Postal code",fullWidth:!0,autoComplete:"shipping postal-code",onChange:function(e){return Y(e.target.value)},value:M})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{required:!0,id:"country",name:"country",label:"Country",fullWidth:!0,autoComplete:"shipping country",onChange:function(e){return J(e.target.value)},value:G})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(Ue.a,{onChange:function(){return X(!Q)},checked:Q,control:r.a.createElement(na.a,{color:"secondary",name:"saveAddress",value:"yes"}),label:"Use this address for payment details"}))),r.a.createElement("div",{className:a.buttons},0!==e.activeStep&&r.a.createElement(O.a,{onClick:e.handleBack,className:a.button},"Back"),r.a.createElement(O.a,{variant:"contained",color:"primary",type:"submit",className:a.button},"Next"))))}var at=Object(s.a)((function(e){return{button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),tt=/^(?:4[0-9]{12}(?:[0-9]{3})?|[25][1-7][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/;function nt(e){var a=at(),t=Object(x.a)(),i=t.register,l=t.handleSubmit,o=t.errors,s=Object(n.useState)(e.creditCard.name),m=Object(c.a)(s,2),d=m[0],u=m[1],p=Object(n.useState)(e.creditCard.num),g=Object(c.a)(p,2),b=g[0],f=g[1],h=Object(n.useState)(e.creditCard.exp),E=Object(c.a)(h,2),v=E[0],C=E[1],j=Object(n.useState)(e.creditCard.cvv),y=Object(c.a)(j,2),k=y[0],A=y[1],B=Object(n.useState)(e.billingAddress.address1),L=Object(c.a)(B,2),I=L[0],T=L[1],F=Object(n.useState)(e.billingAddress.address2),W=Object(c.a)(F,2),R=W[0],D=W[1],$=Object(n.useState)(e.billingAddress.city),q=Object(c.a)($,2),P=q[0],H=q[1],z=Object(n.useState)(e.billingAddress.state),U=Object(c.a)(z,2),M=U[0],Y=U[1],Z=Object(n.useState)(e.billingAddress.zip),V=Object(c.a)(Z,2),G=V[0],J=V[1],K=Object(n.useState)(e.billingAddress.country),_=Object(c.a)(K,2),Q=_[0],X=_[1],ee=Object(n.useState)(e.useSavedCreditCard),ae=Object(c.a)(ee,2),te=ae[0],ne=ae[1],re=Object(n.useState)(e.saveCreditCard),ie=Object(c.a)(re,2),le=ie[0],oe=ie[1],ce=!1;return e.savedCreditCard&&e.savedCreditCard.num&&(ce=e.savedCreditCard.num.substring(12,16)+" "+e.savedCreditCard.exp),r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{variant:"h6",gutterBottom:!0},"Payment method"),r.a.createElement("form",{onSubmit:l((function(){te?e.onSetCreditCard(e.savedCreditCard):e.onSetCreditCard({name:d,num:b,exp:v,cvv:k}),e.onSetBillingAddress({firstName:"",lastName:"",address1:I,address2:R,city:P,state:M,zip:G,country:Q}),e.onUseSavedCreditCard(te),e.onSaveCreditCard(le),e.handleNext()}))},r.a.createElement(N.a,{container:!0,spacing:3},e.isLoggedIn&&ce?r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(Ue.a,{checked:te,control:r.a.createElement(na.a,{color:"secondary",name:"savedCard",value:"yes"}),label:"Use saved credit card: xxxx-xxxx-xxxx-"+ce,onChange:function(){return ne(!te)}})):null,te?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{item:!0,xs:12,md:6},r.a.createElement(S.a,{required:!0,id:"cardName",name:"name",label:"Name on card",fullWidth:!0,autoComplete:"cc-name",onChange:function(e){return u(e.target.value)},value:d})),r.a.createElement(N.a,{item:!0,xs:12,md:6},r.a.createElement(S.a,{required:!0,id:"cardNumber",name:"num",label:"Card number",fullWidth:!0,autoComplete:"cc-number",onChange:function(e){return f(e.target.value)},value:b,inputRef:i({pattern:tt}),error:o.num,helperText:o.num?"invalid card number":"enter 16 digits only"})),r.a.createElement(N.a,{item:!0,xs:12,md:6},r.a.createElement(S.a,{required:!0,id:"expDate",name:"exp",label:"Expiry date",fullWidth:!0,autoComplete:"cc-exp",onChange:function(e){return C(e.target.value)},value:v,inputRef:i({pattern:/^(?:0?[1-9]|1[0-2]) *\/ *[1-9][0-9]$/}),error:o.exp,helperText:o.exp?"invalid expiration date":"mm/yy"})),r.a.createElement(N.a,{item:!0,xs:12,md:6},r.a.createElement(S.a,{required:!0,id:"cvv",name:"cvv",label:"CVV",fullWidth:!0,autoComplete:"cc-csc",onChange:function(e){return A(e.target.value)},value:k,inputRef:i({pattern:/^[0-9]{3,4}$/}),error:o.cvv,helperText:o.cvv?"invalid cvv":"Last three digits on signature strip"})),e.isLoggedIn?r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(Ue.a,{checked:le,control:r.a.createElement(na.a,{color:"secondary",name:"saveCard",value:"yes"}),label:"Remember credit card details for next time",onChange:function(){return oe(!le)}})):null)),e.useShippingAddress?null:r.a.createElement(N.a,null,r.a.createElement(w.a,{variant:"h6",gutterBottom:!0},"Billing address"),r.a.createElement(N.a,{container:!0,spacing:3},r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(S.a,{required:!0,id:"address1",name:"address1",label:"Address line 1",fullWidth:!0,autoComplete:"shipping address-line1",onChange:function(e){return T(e.target.value)},value:I})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(S.a,{id:"address2",name:"address2",label:"Address line 2",fullWidth:!0,autoComplete:"shipping address-line2",onChange:function(e){return D(e.target.value)},value:R})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{required:!0,id:"city",name:"city",label:"City",fullWidth:!0,autoComplete:"shipping address-level2",onChange:function(e){return H(e.target.value)},value:P})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{id:"state",name:"state",label:"State/Province/Region",fullWidth:!0,onChange:function(e){return Y(e.target.value)},value:M})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{required:!0,id:"zip",name:"zip",label:"Zip / Postal code",fullWidth:!0,autoComplete:"shipping postal-code",onChange:function(e){return J(e.target.value)},value:G})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{required:!0,id:"country",name:"country",label:"Country",fullWidth:!0,autoComplete:"shipping country",onChange:function(e){return X(e.target.value)},value:Q})))),r.a.createElement("div",{className:a.buttons},0!==e.activeStep&&r.a.createElement(O.a,{onClick:e.handleBack,className:a.button},"Back"),r.a.createElement(O.a,{type:"submit",variant:"contained",color:"primary",className:a.button},"Next"))))}var rt=Object(s.a)((function(e){return{listItem:{padding:e.spacing(1,0)},total:{fontWeight:700},title:{marginTop:e.spacing(2)},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}));function it(e){var a=rt(),t=[e.shippingAddress.address1+" "+e.shippingAddress.address2,e.shippingAddress.city,e.shippingAddress.state,e.shippingAddress.zip,e.shippingAddress.country],n=[{name:"Card holder",detail:e.creditCard.name},{name:"Card number",detail:"xxxx-xxxx-xxxx-"+e.creditCard.num.substring(12,16)},{name:"Expiry date",detail:e.creditCard.exp}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{variant:"h6",gutterBottom:!0},"Order summary"),r.a.createElement(K.a,{disablePadding:!0},e.cart.map((function(e,t){return r.a.createElement(Q.a,{className:a.listItem,key:t},r.a.createElement(_.a,{primary:e.name}),r.a.createElement(w.a,{variant:"body2"},"$"+e.price))})),r.a.createElement(Q.a,{className:a.listItem},r.a.createElement(_.a,{primary:"Total"}),r.a.createElement(w.a,{variant:"subtitle1",className:a.total},"$"+function(e){var a=0;return e.forEach((function(e){a+=e.price})),a}(e.cart)))),r.a.createElement(N.a,{container:!0,spacing:2},r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(w.a,{variant:"h6",gutterBottom:!0,className:a.title},"Shipping"),r.a.createElement(w.a,{gutterBottom:!0},e.shippingAddress.firstName+" "+e.shippingAddress.lastName),r.a.createElement(w.a,{gutterBottom:!0},t.join(", "))),r.a.createElement(N.a,{item:!0,container:!0,direction:"column",xs:12,sm:6},r.a.createElement(w.a,{variant:"h6",gutterBottom:!0,className:a.title},"Payment details"),r.a.createElement(N.a,{container:!0},n.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.name},r.a.createElement(N.a,{item:!0,xs:6},r.a.createElement(w.a,{gutterBottom:!0},e.name)),r.a.createElement(N.a,{item:!0,xs:6},r.a.createElement(w.a,{gutterBottom:!0},e.detail)))}))))),r.a.createElement("div",{className:a.buttons},0!==e.activeStep&&r.a.createElement(O.a,{onClick:e.handleBack,className:a.button},"Back"),r.a.createElement(O.a,{type:"submit",variant:"contained",color:"primary",onClick:e.handleNext,className:a.button},"Place Order")))}function lt(){return r.a.createElement(w.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(k.a,{color:"inherit",href:"/"},"The Bike Shack")," ",(new Date).getFullYear(),".")}var ot=Object(s.a)((function(e){return{appBar:{position:"relative"},layout:Object(u.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(u.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},progress:{textAlign:"center",marginTop:e.spacing(8)}}})),ct=["Shipping address","Payment details","Review your order"];function st(e){var a=ot(),t=r.a.useState(0),n=Object(c.a)(t,2),i=n[0],l=n[1],o=r.a.useState(!1),s=Object(c.a)(o,2),u=s[0],p=s[1],g=r.a.useState(!1),b=Object(c.a)(g,2),f=b[0],h=b[1],E=r.a.useState(!1),v=Object(c.a)(E,2),C=v[0],x=v[1],j=r.a.useState(!1),S=Object(c.a)(j,2),k=S[0],N=S[1],A=r.a.useState(),B=Object(c.a)(A,2),L=B[0],I=B[1],T={firstName:"",lastName:"",address1:"",address2:"",email:"",city:"",state:"",zip:"",country:""},F=r.a.useState(T),W=Object(c.a)(F,2),R=W[0],D=W[1],$=r.a.useState({name:"",num:"",exp:"",cvv:""}),q=Object(c.a)($,2),P=q[0],H=q[1],z=r.a.useState(T),U=Object(c.a)(z,2),M=U[0],Y=U[1];var Z={useShippingAddress:f,onUseShippingAddress:h,onSetShippingAddress:D,onSetCreditCard:H,onSetBillingAddress:Y,saveCreditCard:C,onSaveCreditCard:x,useSavedCreditCard:k,onUseSavedCreditCard:N,billingAddress:M,shippingAddress:R,creditCard:P,activeStep:i,handleNext:function(){i===ct.length-1?function(){var a={productIds:e.cart.map((function(e){return e._id})),shippingAddress:R,billingAddress:f?R:M,creditCard:P,saveCreditCard:C};p(!0),fetch("/processOrder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){p(!1),e.num?(I(e.num),l(i+1)):alert("Failed to process order")}))}():l(i+1)},handleBack:function(){l(i-1)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null),r.a.createElement(m.a,{position:"absolute",color:"default",className:a.appBar},r.a.createElement(d.a,null,r.a.createElement(w.a,{variant:"h6",color:"inherit",noWrap:!0},"The Bike Shack"))),u?r.a.createElement("div",{className:a.progress},r.a.createElement("div",null,r.a.createElement(Fe.a,null)),r.a.createElement(w.a,{variant:"h5",gutterBottom:!0},"Order processing. Do not refresh.")):r.a.createElement("main",{className:a.layout},r.a.createElement(Pa.a,{className:a.paper},r.a.createElement(w.a,{component:"h1",variant:"h4",align:"center"},"Checkout"),r.a.createElement(Ja.a,{activeStep:i,className:a.stepper},ct.map((function(e){return r.a.createElement(Ka.a,{key:e},r.a.createElement(_a.a,null,e))}))),r.a.createElement(r.a.Fragment,null,i===ct.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{variant:"h5",gutterBottom:!0},"Thank you for your order."),r.a.createElement(w.a,{variant:"subtitle1"},"Your order number is ","#"+L,". We have emailed your order confirmation, and will send you an update when your order has shipped."),r.a.createElement(O.a,{variant:"contained",color:"primary",onClick:e.onOrderComplete,className:a.button},"Return to Home")):r.a.createElement(r.a.Fragment,null,function(e,a,t){switch(e){case 0:return r.a.createElement(et,{isLoggedIn:a.isLoggedIn,shippingAddress:t.shippingAddress,onSetShippingAddress:t.onSetShippingAddress,useShippingAddress:t.useShippingAddress,onUseShippingAddress:t.onUseShippingAddress,activeStep:t.activeStep,handleNext:t.handleNext,handleBack:t.handleBack});case 1:return r.a.createElement(nt,{creditCard:t.creditCard,billingAddress:t.billingAddress,isLoggedIn:a.isLoggedIn,savedCreditCard:a.creditCard,useSavedCreditCard:t.useSavedCreditCard,onUseSavedCreditCard:t.onUseSavedCreditCard,useShippingAddress:t.useShippingAddress,saveCreditCard:t.saveCreditCard,onSaveCreditCard:t.onSaveCreditCard,onSetCreditCard:t.onSetCreditCard,onSetBillingAddress:t.onSetBillingAddress,activeStep:t.activeStep,handleNext:t.handleNext,handleBack:t.handleBack});case 2:return r.a.createElement(it,{cart:a.cart,shippingAddress:t.shippingAddress,creditCard:t.creditCard,activeStep:t.activeStep,handleNext:t.handleNext,handleBack:t.handleBack});default:throw new Error("Unknown step")}}(i,e,Z)))),r.a.createElement(lt,null)))}var mt=Object(s.a)((function(e){return{page:{position:"relative",minHeight:"100vh"}}}));var dt=function(){var e=mt(),a=Object(n.useState)([]),t=Object(c.a)(a,2),i=t[0],l=t[1],s=Object(n.useState)(!1),m=Object(c.a)(s,2),d=m[0],u=m[1],p=Object(n.useState)([]),g=Object(c.a)(p,2),b=g[0],f=g[1],h=Object(n.useState)({}),E=Object(c.a)(h,2),v=E[0],C=E[1],x=Object(n.useState)(!1),j=Object(c.a)(x,2),O=j[0],y=j[1],S=Object(n.useState)(!0),k=Object(c.a)(S,2),N=k[0],A=k[1];Object(n.useEffect)((function(){fetch("/bikes/featured").then((function(e){return e.json()})).then((function(e){A(!1),l(e.bikeData)}))}),[]);var B=function(e){l(e)};return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:e.page},O?r.a.createElement(st,{cart:b,creditCard:v,isLoggedIn:d,onOrderComplete:function(){f([]),y(!1)}}):r.a.createElement(n.Fragment,null,r.a.createElement(Le,{onDisplayBikes:B,isLoggedIn:d,onLogin:function(e){u(!0),f(e.userCart),C(e.creditCard)},onLogout:function(){u(!1),f([]),C({})},onCheckout:function(){y(!0)},onUpdateCart:function(e){d&&fetch("/cartItems/"+b[e]._id,{method:"DELETE"}).then((function(e){return e.json()})),f([].concat(Object(o.a)(b.slice(0,e)),Object(o.a)(b.slice(e+1))))},cart:b}),r.a.createElement(Ga,{loadingBikes:N,bikesToDisplay:i,onDisplayBikes:B,onAddToCart:function(e){d&&fetch("/cartItems/"+e._id,{method:"POST"}).then((function(e){return e.json()})),f([].concat(Object(o.a)(b),[e]))}}),r.a.createElement(Te,null))))};l.a.render(r.a.createElement(dt,null),document.getElementById("root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.edce15f4.chunk.js.map